"use strict";for(var i=0;i<cuspArray.length;i++){var c=Number(cuspArray[i]);$(".rotate").append('<div class="targetCusp" style="transform:rotate(-'+c+'deg);"><p class="cusp'+[i+1]+'"></p></div>')}function planetDraw(a,s,t,e,r,l){var n=$(s).text().split(","),i=n[r].substr(2),p=($(a).text(),$(t).text());$(e).text();10==n[r].length&&(i=n[r].substr(3));var d=Number(i),o=n[r].substr(0,2);o=10==n[r].length?n[r].substr(0,2):n[r].substr(0,1);var c=Number(o);$(l+" .rotate  .targetAngles").append('<div class="planet'+[r+1]+'"  style="transform:rotate(-'+d+'deg);"><div class="blink"></div><img class="'+c+'" style="transform:rotate('+[45+d]+'deg);" src="/image/horo/planet_0'+c+'.sp.480.png"></div>'),$('[class^="planet"]:not(.planet1)').addClass("transit"),$(l+" .transit img").each(function(){var a=$(this).attr("class");if(a==p){$(l+" .transit img."+a).addClass("aspect"),$(l+" .transit:has(img.aspect)").addClass("aspect");var s=$(l+" img.aspect").attr("src").replace(".sp","asp.sp");$(l+" img.aspect").attr("src",s)}})}function planetPosition(a,s,t){if($(t+" .planet1 img").addClass("natal"),20==s||23==s||26==s||29==s){var e=t+" "+a+" img",r=$(e).attr("src").replace(".sp","asp.sp"),l=$("p.natal_planet").text().split(","),n=Number(l),i=$(t+" img.natal").attr("src").replace(s,n);$(e).attr("src",r).addClass("aspect"),$(t+" "+a).addClass("aspect"),$(t+" img.natal").attr("src",i)}}function planetAsp(a,s){var t=$(a).text();if(20==t)planetPosition(".asc","20",s);else if(26==t)planetPosition(".dsc","26",s);else if(23==t)planetPosition(".ic","23",s);else if(29==t)planetPosition(".mc","29",s);else{var e=[".planet1",".planet2",".planet3",".planet4",".planet5",".planet6"],r='[class^="planet"]',l=$(s+" .planet1 img").attr("src").replace(".sp","asp.sp");$("p.natal_planet").text().split(","),Number(m);701==m||702==m||703==m||704==m||705==m||707==m||708==m||709==m||710==m||711==m||712==m||10001==m||10002==m||10003==m||10004==m||10005==m||10007==m||10008==m||10009==m||10010==m||10011==m||10012==m?(planetPosition("."+t,t,s),$(s+" "+e[0]).addClass("aspect"),$(s+" "+e[0]+" img").attr("src",l).addClass("natal"),$(s+' [class^="planet"]:has(img.natal)').addClass("natal").removeClass("transit")):706==m||10006==m?(planetPosition("."+t,t,s),l=[$(s+" .planet1 img").attr("src").replace(".sp","asp.sp"),$(s+" .planet2 img").attr("src").replace(".sp","asp.sp")],$(s+" "+e[0]).addClass("aspect").dequeue(),$(s+" "+e[0]+" img").attr("src",l[0]).addClass("natal"),$(s+" "+e[1]).addClass("natal").removeClass("transit"),$(s+" "+e[1]+" img").addClass("natal").dequeue(),$(s+' [class^="planet"].aspect:has(img.natal)').addClass("natal").removeClass("transit")):713!=m&&10013!=m||(planetPosition("."+t,t,s),$(s+" "+r+":not(.planet1,.planet7)").removeClass("transit").addClass("natal"),$(s+" "+r+":not(.planet7)").removeClass("transit"),$(s+" "+e[0]).addClass("aspect"),$(s+" "+e[0]+" img").attr("src",l).addClass("natal"),$(s+" "+r+":not(.planet7) img").addClass("natal"),$(s+" "+r+".aspect:has(img.natal)").addClass("natal").removeClass("transit"))}}$(".rotate .horizon").append('<div class="asc" style="transform:rotate(-'+Number(cuspArray[0])+'deg);"><div class="blink"></div><img class="20" style="transform:rotate('+Number(cuspArray[0])+'deg);" src="/image/horo/planet_20.sp.480.png"></div>').append('<div class="dsc" style="transform:rotate(-'+Number(cuspArray[6])+'deg);"><div class="blink"></div><img class="26" style="transform:rotate('+Number(cuspArray[6])+'deg);" src="/image/horo/planet_26.sp.480.png"></div>').append('<div class="ic" style="transform:rotate(-'+Number(cuspArray[3])+'deg);"><div class="blink"></div><img class="23" style="transform:rotate('+Number(cuspArray[3])+'deg);" src="/image/horo/planet_23.sp.480.png"></div>').append('<div class="mc" style="transform:rotate(-'+Number(cuspArray[9])+'deg);"><div class="blink"></div><img class="29" style="transform:rotate('+Number(cuspArray[9])+'deg);" src="/image/horo/planet_29.sp.480.png"></div>');for(var j=0;j<page;j++){var horoLoop=".horo"+[j+1],natal="p.natal"+[j+1],angles="p.angles"+[j+1],tran="p.tran"+[j+1],loop="p.loop"+[j+1];for(i=0;i<targetAngles.length;i++){var index=i;planetDraw(natal,angles,tran,loop,index,horoLoop)}planetAsp(natal,horoLoop)}$(function(){$(".re-horoHelp__icon > .btn").on("click",function(){$(".re-horoHelp__body").removeClass("hide").addClass("js-active")}),$(".re-horoHelp__body > .btn").on("click",function(){$(".re-horoHelp__body").removeClass("js-active"),$(".re-horoHelp__body").delay(500).queue(function(){$(".re-horoHelp__body").addClass("hide")})})}),$.fn.addClass_org=$.fn.addClass,$.fn.addClass=function(){return this.trigger("AddedClass",arguments),$.fn.addClass_org.apply(this,arguments)},$.fn.addedClass=function(s,a){var t=this,e=a||function(){};this.on("AddedClass",function(){var a=arguments;setTimeout(function(){a[1]===s&&t.hasClass(s)&&e()},0)})};var pageInteger=Number(page),slideItem=".slide-item";$("a.left").hide(),$(".slide-item1").addedClass("active",function(){$("a.left").hide()}),$(".slide-item2").addedClass("active",function(){$("a.left").show()}),$(".slide-item"+page).addedClass("active",function(){$("a.right").hide()}),$(".slide-item"+[page-1]).addedClass("active",function(){$("a.right").show()});